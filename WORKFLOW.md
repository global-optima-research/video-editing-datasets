# Claude Code 调研工作流

本文档记录使用 Claude Code (CC) 进行技术调研的工作方法，供团队参考。

---

## 总耗时

**4 小时 8 分钟** (11:42 - 15:50)

产出:
- 1 份数据集调研文档
- 7 份论文分析文档
- 1 份技术方案文档
- 共计 ~2,000 行 Markdown

---

## 工作流程

```
┌─────────────────────────────────────────────────────────────────┐
│                    CC 调研工作流                                 │
├─────────────────────────────────────────────────────────────────┤
│                                                                  │
│  Phase 1: 领域调研 (~1.5h)                                       │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  输入: 主题 (如 "video editing datasets")                │    │
│  │       ↓                                                  │    │
│  │  CC 自动: Web 搜索 + 论文爬取 + 整理                     │    │
│  │       ↓                                                  │    │
│  │  产出: awesome-xxx.md (领域概览)                         │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  Phase 2: 重点论文分析 (~1.5h)                                   │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  输入: 挑选的关键论文 (3-5 篇)                           │    │
│  │       ↓                                                  │    │
│  │  CC 自动: 下载 PDF + 深度分析 + 对比                     │    │
│  │       ↓                                                  │    │
│  │  产出: papers/*.md (每篇独立分析)                        │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
│  Phase 3: 技术方案讨论 (~1h)                                     │
│  ┌─────────────────────────────────────────────────────────┐    │
│  │  输入: 具体需求 + Phase 1/2 的积累                       │    │
│  │       ↓                                                  │    │
│  │  人机交互: 讨论 → 细化 → 验证 → 迭代                     │    │
│  │       ↓                                                  │    │
│  │  产出: xxx-proposal.md (完整技术方案)                    │    │
│  └─────────────────────────────────────────────────────────┘    │
│                                                                  │
└─────────────────────────────────────────────────────────────────┘
```

---

## 各阶段详解

### Phase 1: 领域调研

**目标**: 快速了解领域全貌，找到关键工作

**操作**:
```
Human: 帮我调研 video editing datasets，整理成 awesome 列表
```

**CC 自动完成**:
1. Web 搜索相关论文和数据集
2. 分类整理 (Training / Evaluation / Benchmark)
3. 提取关键信息 (规模、任务、链接)
4. 生成 Markdown 文档

**产出示例**: [awesome-video-editing-datasets.md](awesome-video-editing-datasets.md)

**耗时**: ~1.5 小时 (含多轮迭代优化结构)

---

### Phase 2: 重点论文分析

**目标**: 深入理解关键技术，提取可复用的方法

**操作**:
```
Human: 分析一下这几篇论文: Ditto-1M, I2VEdit, VideoSwap
Human: 单独分析一下 VideoAnyDoor
Human: 补充 SAM2 和 ProPainter
```

**CC 自动完成**:
1. 下载论文 PDF (或通过 Web 获取信息)
2. 提取核心贡献、方法、实验结果
3. 分析对当前任务的适用性
4. 生成结构化分析文档

**产出示例**: [papers/](papers/)
- ditto-1m-analysis.md
- i2vedit-analysis.md
- videoswap-analysis.md
- videoanydoor-analysis.md
- sam2-analysis.md
- propainter-analysis.md

**耗时**: ~1.5 小时 (7 篇论文)

---

### Phase 3: 技术方案讨论

**目标**: 综合调研结果，产出可执行的技术方案

**操作** (交互式):
```
Human: 我们要给 PVTT 做训练数据集，最佳方案是什么？
Human: 我需要支持形状变化 (手表→项链)
Human: 数据来源看看这里 [link]
Human: cross ref 一下不就有配对了吗？
Human: Etsy 视频是多镜头的，需要切分
Human: 每个商品有 N 张图片，不是 1 张
Human: review 一下方案，模型选择是否最优？
```

**人机协作模式**:
1. 人提出需求和约束
2. CC 给出方案建议
3. 人指出遗漏或错误
4. CC 修正并更新文档
5. 迭代直到方案完善

**产出示例**: [pvtt-dataset-proposal.md](pvtt-dataset-proposal.md)

**耗时**: ~1 小时 (多轮讨论迭代)

---

## 关键技巧

### 1. 让 CC 主动验证

```
Human: review 一下方案，确保模型选择是最优的
```

CC 会自动搜索最新进展，发现:
- ProPainter (2023) → VideoPainter (2025)
- VideoAnyDoor 代码已发布
- InsertAnywhere 是更新的替代方案

### 2. 及时 commit

每完成一个阶段就 commit:
```
Human: commit push
```

好处:
- 保留版本历史
- 方便回溯
- 团队可见进度

### 3. 指出细节错误

```
Human: 商品图片是 N 张，不是 1 张
Human: Etsy 视频是多镜头的
```

CC 会自动更新所有相关部分 (数据规格、资源估算、Pipeline 等)

### 4. 结构化输出

要求 CC 输出特定格式:
- 表格对比
- Pipeline 图
- 代码示例
- 资源估算

---

## 产出物清单

| 文件 | 类型 | 说明 |
|------|------|------|
| awesome-video-editing-datasets.md | 调研 | 领域数据集列表 |
| dataset-construction-analysis.md | 调研 | 构建方法分析 |
| motion-lora.md | 技术 | Motion LoRA 详解 |
| papers/*.md (7篇) | 分析 | 论文深度分析 |
| pvtt-dataset-proposal.md | 方案 | 完整技术方案 |
| README.md | 索引 | 项目概览 |

---

## 适用场景

- 新领域快速入门
- 技术选型调研
- 竞品分析
- 方案设计
- 文档整理

---

Last updated: 2026-01-20
